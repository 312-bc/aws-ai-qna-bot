{"modules":[{"id":"5d04600d-74e5-4799-a6ab-4ab65962f229","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"df35a20f-0d7f-4bb2-b8e4-fa5510708371"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":75,"y":158.99999198913582}}},{"id":"df35a20f-0d7f-4bb2-b8e4-fa5510708371","type":"SetVoice","branches":[{"condition":"Success","transition":"3f3d91aa-e448-4119-9e93-69ef25719713"}],"parameters":[{"name":"GlobalVoice","value":"Matthew"},{"name":"GlobalEngine","value":"Neural"},{"name":"SpeakingStyle","value":"Conversational"}],"metadata":{"position":{"x":78,"y":324.9999919891359}}},{"id":"3f3d91aa-e448-4119-9e93-69ef25719713","type":"SetAttributes","branches":[{"condition":"Success","transition":"c0a4597f-c841-4cce-9629-61658abff0b5"},{"condition":"Error","transition":"c0a4597f-c841-4cce-9629-61658abff0b5"}],"parameters":[{"name":"Attribute","value":"Ask another question or say return to main menu","key":"defaultPrompt","namespace":null}],"metadata":{"position":{"x":76,"y":501}}},{"id":"c0a4597f-c841-4cce-9629-61658abff0b5","type":"SetAttributes","branches":[{"condition":"Success","transition":"03d86415-cfef-4b8c-860f-c75946f4ba1f"},{"condition":"Error","transition":"03d86415-cfef-4b8c-860f-c75946f4ba1f"}],"parameters":[{"name":"Attribute","value":"Hello. Welcome to QnA bot.  Ask me a question.","key":"prompt","namespace":null}],"metadata":{"position":{"x":372,"y":78.99999656677248}}},{"id":"151ea3ec-6546-440a-ab9e-5538d862fd52","type":"Loop","branches":[{"condition":"Looping","transition":"1d0febd1-8929-464d-b677-c439c70e0e54"},{"condition":"Complete","transition":"bb036f1e-bdfa-4c37-a56f-d24d75ef5551"}],"parameters":[{"name":"LoopCount","value":"2"}],"metadata":{"position":{"x":1102,"y":296},"useDynamic":false}},{"id":"03d86415-cfef-4b8c-860f-c75946f4ba1f","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"fulfilment_IntentWPHfCLXstu","transition":"7f6a465d-c876-4e08-b087-155b544bce7f"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"qnabotfallbackfulfilment_IntentnxDQbCPXn","transition":"7f6a465d-c876-4e08-b087-155b544bce7f"},{"condition":"NoMatch","transition":"7f6a465d-c876-4e08-b087-155b544bce7f"},{"condition":"Error","transition":"151ea3ec-6546-440a-ab9e-5538d862fd52"}],"parameters":[{"name":"Text","value":"prompt","namespace":"User Defined"},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"QnABot_BotgRdIX"},{"name":"BotAlias","value":"live"},{"name":"BotRegion","value":"us-east-1"},{"name":"Parameter","key":"x-amz-lex:barge-in-enabled:*:*","value":"true","namespace":null},{"name":"Parameter","key":"isConnectChannel","value":"Channel","namespace":"System"},{"name":"Parameter","key":"connectContactId","value":"ContactId","namespace":"System"},{"name":"Parameter","key":"connect_nextPrompt","value":"defaultPrompt","namespace":"User Defined"},{"name":"Parameter","key":"topic","value":"topic","namespace":"Lex.SessionAttributes"},{"name":"Parameter","key":"qnabotcontext","value":"qnabotcontext","namespace":"Lex.SessionAttributes"}],"metadata":{"position":{"x":636,"y":108},"conditionMetadata":[{"id":"db631669-45f1-4d37-94f4-87ca05d0ccc4","value":"fulfilment_IntentWPHfCLXstu"},{"id":"b16efddc-c346-45d4-a252-0edc4d3d6009","value":"qnabotfallbackfulfilment_IntentnxDQbCPXn"}],"useDynamic":true,"dynamicMetadata":{"x-amz-lex:barge-in-enabled:*:*":false,"isConnectChannel":true,"connectContactId":true,"connect_nextPrompt":true,"topic":true,"qnabotcontext":true}},"target":"Lex"},{"id":"1d0febd1-8929-464d-b677-c439c70e0e54","type":"SetAttributes","branches":[{"condition":"Success","transition":"03d86415-cfef-4b8c-860f-c75946f4ba1f"},{"condition":"Error","transition":"03d86415-cfef-4b8c-860f-c75946f4ba1f"}],"parameters":[{"name":"Attribute","value":"connect_nextPrompt","key":"prompt","namespace":"Lex.SessionAttributes"}],"metadata":{"position":{"x":389,"y":277}}},{"id":"7f6a465d-c876-4e08-b087-155b544bce7f","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"5d762456-76cb-4578-9c1f-4e5d79865754"},{"condition":"NoMatch","transition":"151ea3ec-6546-440a-ab9e-5538d862fd52"}],"parameters":[{"name":"Attribute","value":"qnabot_gotanswer"},{"name":"Namespace","value":"Lex.SessionAttributes"}],"metadata":{"position":{"x":861,"y":99},"conditionMetadata":[{"id":"fc99dcd4-5068-482a-9ba8-158dc8515f39","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"5d762456-76cb-4578-9c1f-4e5d79865754","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"AGENT","transition":"e1af26b7-2f37-445f-8c7b-3791bf214eda"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"MENU","transition":"bea09cee-1c9c-4a4b-917c-969c7dbdfd92"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"END","transition":"d26a2c6b-e9ff-474e-a4e5-14d8175e7bce"},{"condition":"NoMatch","transition":"1d0febd1-8929-464d-b677-c439c70e0e54"}],"parameters":[{"name":"Attribute","value":"nextAction"},{"name":"Namespace","value":"Lex.SessionAttributes"}],"metadata":{"position":{"x":1103,"y":15},"conditionMetadata":[{"id":"1c0eb968-ecf1-4511-8a30-829cb775023e","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"AGENT"},{"id":"43c4bf4d-484a-4b8b-bce9-e29472a58399","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"MENU"},{"id":"8a3e08c2-b657-4281-b816-886fdb52d80c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"END"}]}},{"id":"d26a2c6b-e9ff-474e-a4e5-14d8175e7bce","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bf5ece6b-6ebb-4a59-bd9b-15e45d2b0993"}],"parameters":[{"name":"Text","value":"Thank you for using QnA Bot, Goodbye","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1391,"y":326.9999965667725},"useDynamic":false}},{"id":"bb036f1e-bdfa-4c37-a56f-d24d75ef5551","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bf5ece6b-6ebb-4a59-bd9b-15e45d2b0993"}],"parameters":[{"name":"Text","value":"This is embarrassing. I'm sorry I don't know the answer to your questions.  I'm still learning, so check back tomorrow.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1399,"y":496.9999965667725},"useDynamic":false}},{"id":"bea09cee-1c9c-4a4b-917c-969c7dbdfd92","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bf5ece6b-6ebb-4a59-bd9b-15e45d2b0993"}],"parameters":[{"name":"Text","value":"This is where I'd route to a main menu.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1391,"y":176.9999965667725},"useDynamic":false}},{"id":"bf5ece6b-6ebb-4a59-bd9b-15e45d2b0993","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2118,"y":273}}},{"id":"23f8b98e-38c7-44bd-b140-fc2580860164","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"bf5ece6b-6ebb-4a59-bd9b-15e45d2b0993"},{"condition":"Error","transition":"bf5ece6b-6ebb-4a59-bd9b-15e45d2b0993"}],"parameters":[],"metadata":{"position":{"x":1888.857177734375,"y":114.71428680419922},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"e1af26b7-2f37-445f-8c7b-3791bf214eda","type":"PlayPrompt","branches":[{"condition":"Success","transition":"cead92da-f104-4a12-bf52-7970db57185b"}],"parameters":[{"name":"Text","value":"Routing you to the basic queue.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1391,"y":23.99999656677248},"useDynamic":false}},{"id":"cead92da-f104-4a12-bf52-7970db57185b","type":"SetQueue","branches":[{"condition":"Success","transition":"23f8b98e-38c7-44bd-b140-fc2580860164"},{"condition":"Error","transition":"23f8b98e-38c7-44bd-b140-fc2580860164"}],"parameters":[{"name":"Queue","value":"","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":1638,"y":42},"useDynamic":false,"queue":{"id":"","text":"BasicQueue","arn":null,"metricDetail":null,"resourceId":null}}}],"version":"1","type":"contactFlow","start":"5d04600d-74e5-4799-a6ab-4ab65962f229","metadata":{"entryPointPosition":{"x":14.999982102400423,"y":14.999981265496906},"snapToGrid":false,"name":"qna-sample","description":null,"type":"contactFlow","status":"published","hash":"634d4739909378945a4c726f94ea4598db7e015747a70b5fa56185f783c95947"}}